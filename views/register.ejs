<%- include('partials/header', { pageTitle: pageTitle }) %>

<div class="static-page">
    <h1><%= t('auth.register_title') %></h1>

    <p class="feedback-message" style="background-color: #fff3cd; color: #664d03; border-color: #ffecb5; display: block;">
        âš ï¸ <%= t('auth.register_info') %>
    </p>
    <hr>

    <% if (locals.error) { %>
        <p class="error-message" style="display: none;"><%= error %></p>
    <% } %>

    <form action="/inscription" method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="username"><%= t('forms.username') %> :</label>
            <input type="text" id="username" name="username" required>
        </div>

        <div class="form-group">
            <label for="email">Email :</label>
            <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
            <label for="avatar">Photo de profil (Optionnel) :</label>
            <input type="file" id="avatar" name="avatar" accept="image/*">
            <small style="color: var(--c-text-light);">Si vide, un avatar sera gÃ©nÃ©rÃ©.</small>
        </div>

        <div class="form-group">
            <label for="avatar_style">Style de l'avatar gÃ©nÃ©rÃ© :</label>
            <select name="avatar_style" id="avatar_style" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--c-border); background: var(--c-background); color: var(--c-text);">
                <option value="bottts">ğŸ¤– Robots</option>
                <option value="avataaars">ğŸ§‘ Humains</option>
                <option value="monsterrr">ğŸ‘¾ Monstres</option>
                <option value="identicon">ğŸ”· GÃ©omÃ©trique</option>
                <option value="initials">ğŸ…°ï¸ Initiales</option>
            </select>
            <small style="color: var(--c-text-light);">UtilisÃ© uniquement si vous n'uploadez pas de photo.</small>
        </div>

        <div class="form-group password-container">
            <label for="password"><%= t('forms.password') %> :</label>
            <div style="position: relative;">
                <input type="password" id="password" name="password" required minlength="8">
                <i class="fas fa-eye toggle-password-icon" data-target="password"></i>
            </div>
            <div id="password-strength-feedback" style="margin-top: 5px; font-size: 0.9em;"></div>
        </div>

        <div>
            <button type="submit" class="btn"><%= t('forms.create_account_button') %></button>
        </div>
    </form>
</div>

<script src="/js/auth-ui.js"></script>

<%- include('partials/footer') %>