<%- include('partials/header', { pageTitle: pageTitle }) %>

<div class="static-page">
    <h1><%= t('auth.register_title') %></h1>
    
    <%# Message d'information (non géré par SweetAlert, s'affiche toujours) %>
    <p class="feedback-message" style="background-color: #fff3cd; color: #664d03; border-color: #ffecb5; display: block;">
        ⚠️ <%= t('auth.register_info') %>
    </p>
    <hr>

    <% if (locals.error) { %>
        <p class="error-message" style="display: none;" data-detail="<%= locals.detail || '' %>">
            <%= error %>
        </p>
    <% } %>

    <% if (locals.success) { %>
        <p class="feedback-message success" style="display: none;"><%= success %></p>
    <% } %>

    <form action="/inscription" method="POST">
        <div class="form-group">
            <label for="username"><%= t('forms.username') %> :</label><br>
            <input type="text" id="username" name="username" required>
        </div>

        <div class="form-group">
            <label for="email"><%= t('contact.form_email') %> :</label><br>
            <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group password-container">
            <label for="password"><%= t('forms.password') %> :</label><br>
            <div style="position: relative;">
                <input type="password" id="password" name="password" required minlength="8">
                <i class="fas fa-eye toggle-password-icon" data-target="password"></i>
            </div>
            <div id="password-strength-feedback" style="margin-top: 5px; font-size: 0.9em;"></div>
        </div>

        <div>
            <button type="submit"><%= t('forms.create_account_button') %></button>
        </div>
    </form>
</div>

<%- include('partials/footer') %>

<script src="/js/auth-ui.js"></script>