<%- include('partials/header', { pageTitle: pageTitle }) %>

<div class="static-page contact-page">
    <h1><%= t('contact.title') %></h1>
    <p><%= t('contact.intro') %></p>
    <hr>

    <% if (typeof messageSent !== 'undefined') { %>
        <% if (messageSent === true) { %>
            <p class="feedback-message success" style="display: none;">
                <%= t('contact.success_message') %>
            </p>
        <% } else if (messageSent === false) { %>
            <p class="error-message" style="display: none;">
                <%= error || t('contact.error_message') %>
            </p>
        <% } %>
    <% } %>

    <form action="/contact" method="POST" class="contact-form">
        <div class="form-group">
            <label for="name"><%= t('contact.form_name') %> :</label>
            <input type="text" id="name" name="name" required 
                   value="<%= locals.username || (locals.guest ? locals.guest.name : '') %>">
        </div>
        <div class="form-group">
            <label for="email"><%= t('contact.form_email') %> :</label>
            <input type="email" id="email" name="email" required 
                   value="<%= locals.guest ? locals.guest.email : '' %>">
        </div>
        <div class="form-group">
            <label for="subject">Objet :</label>
            <input type="text" id="subject" name="subject" required placeholder="Ex: Proposition de stage, Question...">
        </div>
        <div class="form-group">
            <label for="message"><%= t('contact.form_message') %> :</label>
            <textarea id="message" name="message" rows="8" required></textarea>
        </div>
        
        <div class="form-group honeypot">
            <label for="website-field">Ne pas remplir ce champ</label>
            <input type="text" id="website-field-contact" name="website_field" autocomplete="off" tabindex="-1">
        </div>

        <div>
            <button type="submit"><%= t('contact.send_button') %></button>
        </div>
    </form>
</div>

<%- include('partials/footer') %>