<%- include('partials/header', { pageTitle: pageTitle }) %>

<div class="static-page">
    <h1>Changer le Mot de Passe</h1> <% if (error) { %>
        <p class="error-message" style="display: none;"><%= error %></p>
    <% } %>
    <% if (success) { %>
        <p class="feedback-message success" style="display: none;"><%= success %></p>
    <% } %>

    <form action="/change-password" method="POST" 
          onsubmit="return confirm('Êtes-vous sûr de vouloir changer votre mot de passe ?');">
        
        <div class="form-group password-container">
            <label for="currentPassword">Mot de Passe Actuel :</label> <div style="position: relative;">
                <input type="password" id="currentPassword" name="currentPassword" required>
                <i class="fas fa-eye toggle-password-icon" data-target="currentPassword"></i>
            </div>
        </div>

        <div class="form-group password-container">
            <label for="newPassword">Nouveau Mot de Passe (min 8 caractères) :</label> <div style="position: relative;">
                <input type="password" id="newPassword" name="newPassword" required minlength="8">
                <i class="fas fa-eye toggle-password-icon" data-target="newPassword"></i>
            </div>
        </div>

        <div class="form-group password-container">
            <label for="confirmPassword">Confirmer le Nouveau Mot de Passe :</label> <div style="position: relative;">
                <input type="password" id="confirmPassword" name="confirmPassword" required>
                <i class="fas fa-eye toggle-password-icon" data-target="confirmPassword"></i>
            </div>
        </div>

        <div>
            <button type="submit">Mettre à jour le mot de passe</button> </div>
    </form>
</div>

<script src="/js/auth-ui.js"></script>

<%- include('partials/footer') %>